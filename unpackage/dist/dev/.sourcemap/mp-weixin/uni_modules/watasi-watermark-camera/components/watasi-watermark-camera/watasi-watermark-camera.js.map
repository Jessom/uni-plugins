{"version":3,"sources":[null,"webpack:///E:/workpace/git/uniPlugin/uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue?ed1e","webpack:///E:/workpace/git/uniPlugin/uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue?4574","webpack:///E:/workpace/git/uniPlugin/uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue?bbdf","uni-app:///uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue","webpack:///E:/workpace/git/uniPlugin/uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue?81c4","webpack:///E:/workpace/git/uniPlugin/uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue?e2b4"],"names":["props","watermark","type","default","debug","data","images","livePusherData","filters","filterStyle","style","color","fontSize","fontWeight","backgroundColor","width","height","mounted","methods","onPostMessage","onChange","snapshot","success","base64","maxWidth","liveWidth","liveHeight","uni","title","icon","switchCamera","console","previewImage","current","urls","urlTobase64","plus","entry","fileReader","callback"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AAC4E;AACL;AACc;;;AAGrF;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8FAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAknB,CAAgB,4oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwEtoB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA,gBAmBA;EACAA;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;IACAC;MACAF;MACAC;IACA;EACA;EAEAE;IACA;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;QACA;UACAC;YACAC;YACAC;YACAC;UACA;UACA;QACA;UACAH;YACAI;YACAC;YACAC;UACA;UACA;QACA;UACAN;YACAK;YACAC;UACA;UACA;MAAA;MAEA;IACA;EACA;EACAC;IAmCA;EAEA;EAEAC;IACAC;MACA;MACA;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACAC;UACA;YACA;YACA;YACA;cACA;YACA;cACA;gBACA;kBACAC;kBACAtB;kBACAc;kBACAC;kBACAQ;kBACAC;kBACAC;gBACA;gBACA;kBACA;kBACA;gBACA;kBACA;gBACA;cACA;YACA;UACA;YACAC;cACAC;cACAC;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACAR;UACAS;QACA;MACA;IACA;IAEAC;MACAL;QACAM;QACAC;MACA;IACA;IAEA;IACAC;MACAC;QACAC;UACA;UACAC;YACAC;UACA;UACAD;QACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AChQA;AAAA;AAAA;AAAA;AAA6pC,CAAgB,moCAAG,EAAC,C;;;;;;;;;;;ACAjrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./watasi-watermark-camera.nvue?vue&type=template&id=71b28d44&\"\nvar renderjs\nimport script from \"./watasi-watermark-camera.nvue?vue&type=script&lang=js&\"\nexport * from \"./watasi-watermark-camera.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./watasi-watermark-camera.nvue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/watasi-watermark-camera/components/watasi-watermark-camera/watasi-watermark-camera.nvue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./watasi-watermark-camera.nvue?vue&type=template&id=71b28d44&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./watasi-watermark-camera.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./watasi-watermark-camera.nvue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"watasi-watermark-camera\">\r\n\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t<web-view\r\n\t\t\tsrc=\"/uni_modules/watasi-watermark-camera/hybrid/html/watermark.html\"\r\n\t\t\tref=\"webview\"\r\n\t\t\tv-if=\"!debug\"\r\n\t\t\t@onPostMessage=\"onPostMessage\"\r\n\t\t></web-view>\r\n\t\t\r\n\t\t<live-pusher\r\n\t\t\tid=\"livePusher\"\r\n\t\t\tref=\"livePusher\"\r\n\t\t\tclass=\"live-pusher\"\r\n\t\t\tmode=\"FHD\"\r\n\t\t\taspect=\"9:16\"\r\n\t\t\t:beauty=\"0\"\r\n\t\t\t:whiteness=\"0\"\r\n\t\t\t:muted=\"true\"\r\n\t\t/>\r\n\t\t\r\n\t\t<!-- 渲染水印 -->\r\n\t\t<view\r\n\t\t\tv-for=\"(item, idx) in watermark\"\r\n\t\t\t:key=\"idx\"\r\n\t\t\t:style=\"{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: 99,\r\n\t\t\t\tleft: item.x + 'px',\r\n\t\t\t\ttop: item.y + 'px',\r\n\t\t\t}\"\r\n\t\t>\r\n\t\t\t<text\r\n\t\t\t\tclass=\"it\"\r\n\t\t\t\t:style=\"item | filterStyle\"\r\n\t\t\t\tv-if=\"item.type != 'image'\"\r\n\t\t\t>{{ item.type == 'text' ? item.text : '' }}</text>\r\n\t\t\t\r\n\t\t\t<image\r\n\t\t\t\tv-else\r\n\t\t\t\t:style=\"item | filterStyle\"\r\n\t\t\t\t:src=\"item.url\"\r\n\t\t\t\tmode=\"scaleToFill\"\r\n\t\t\t></image>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"toolbar\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<!-- <image\r\n\t\t\t\t\tclass=\"image\"\r\n\t\t\t\t\t:src=\"images[images.length - 1]\"\r\n\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\tv-if=\"images.length\"\r\n\t\t\t\t\t@click=\"previewImage\"\r\n\t\t\t\t></image> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"snapshot\" @click=\"snapshot\">\r\n\t\t\t\t<view class=\"circle\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"switch\" @click=\"switchCamera\">\r\n\t\t\t\t<image\r\n\t\t\t\t\tsrc=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABOZJREFUaEPtmVmoVWUYhp+XJpojsKBsoIvqoizIujJQSqXBi5KStNHmuYjSKEiRJguhJAojKqJ5skkaTSqCAksMISqiiyaobLhpot7WZ2vH8netvYZ99okDfrA5Z5/zf8O7/m9eYoyTxrj9bAbwf9/g0G7A9o7AfsBfwGeSfhsG2BEBYHtL4Oj8Myk3fFxi8KfAx8DnwNuSnh4JQAMBsH0YcB5wApAaXGffB8CjwGOSvqw7XPX/TgBsHwRcmhvfVXeP78cAAVwnKX5vRa0B2A4XeTB3k1bKag6vBeZKWt1GaCsAtmflT6ufjjeAZyJwgZ2ACObez2nAkTUGnizpyaYgGgOwfTtwVYXg8OWVwHOSvuun3PYBwEzgJODQirPzJd3aBEQjALbvAC4rEfgrcFrXjGL7RGApsEeJ7GmSXqsDUQvA9g2ZkAUlgt4CZkn6tk5JzY1MyDLYXUDEVkoTJH3Uj78vANsHA+8COyRClkiqcqfWePI6ci9wZsL8IXCcpG86pVHbDwBnJMxrJR3S2soGDLbvBi5Iji4HIrD/LBNReQO2jwFWlDCNk/R9A3taH8ke2L5ZcK8DtiswnyPpvtY3UPE0rpYU2WhoZHsRcH2uYJ6kxa1jIEuZ4fPRt+xZYH5I0ulDs7wg2PbXwBOSrqjTV+pCtk8BHkmYWxWYOsU1mWmSpHeayKgCsAw4tyAg8v3+gzRdTYzpcqYKwPvA4QWBKyUd1UXBoDy2J0ta1TiIbe+TZ4LtC0w3SuoF1qA2Nea3fVFe5O6RdGFlGrWdVtqovkVaWPiyrk2z1dja5KDt44EXCn++VtItqbwNLmT7ZmB+Q2VzJKUB3pC12THbUShfAXZPODbR/V8M2H4YmF2j4hpJtzUzo9sp27sCLycx2BMWc/V0SdGHbaAigPD5YCxrquLsndnEdHk3s5pzZdPeU3m7XcUU9Sn6o5itN94L2T4wv7q9E+7lkmLuHSrZXgJc2UBJtNkzJP2+SRq1PRV4tSBkTdaRRm/ed1BpoLT2iO03k0OTC9/TVLow0mtVHZgLRAP1EzBFUoAYNbK9W9ZafwFsW1C6WNK81Ih+3Wik1jWSop0dVbId019MgUWaKSlm7Y2odiIbVctzZbZjvp6S6B4v6avOAGwfC/wh6fVhgrJ9BPBeomNZNpWdX6a30Q3kG7hYl/wtKfL0UMj2XsCzWQWOjV+RJlbti2oB2B6fFZWXsl1PDN9BqyVNHGkEtnfO1iwRb8XME2oqn378s26o3xqIwjIjMXippLI1S2dctp8v0RPj5dTOQ31YYzs2BfeXWBYZYXYUk85W/ys/fP6mbGNd1q5HsXqxn/xaF8pBXJIvoFJZMdyfVaekygDbFwPRSMb6MaUFkopdcKmYRgByEFFENmlnc6mPA9FgrZAUBaiSss53m3CLfLVYNWM3Mr42BlIrbMcyK3aWW/SxMfb+0cf/DPxS+EQymJ5/YtlbRdEilG0CB7uBHrftKDABojhyDhIGPd5PYp3Sdlhq7EJFC23vkrtTaXHpgCaWCIu6LA06ASjcRvjynOxdwKk1blWFKQyPPN/qpUZR2EAACkCiOp+dvyuLZVh8quIkXl7EynJVXcA3uckRAVCmKFtNxjwbQLbK3qf9kL1fWJ8Vv/VNjGpzZmgA2hgxyNnNAAZ5eiPBO+Zv4B9flnNAGk1DCQAAAABJRU5ErkJggg==\"\r\n\t\t\t\t\tmode=\"widthFix\"\r\n\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 水印相机\r\n * @description \r\n * @property {Array} watermark 水印\r\n * \t@value type text(文本)、image(图片)、fillRect(矩形)\r\n * \t@value x x轴坐标\r\n * \t@value y y轴坐标\r\n * \t@value color type为text、fillRect时有效\r\n * \t@value text type为text时有效，文本内容\r\n * \t@value size type为text时有效，文本字号\r\n * \t@value isBold type为text时有效，是否加粗\r\n * \t@value w type为fillRect、image时有效，宽\r\n * \t@value h type为fillRect、image时有效，高\r\n * \t@value url type为image时有效，图片路径\r\n * @property {Boolean} debug 是否调试模式，调试模式下onPostMessage不会触发，即接收到不到change事件\r\n * @event {Function} ready 初始化完成，返回livePusher的宽高等信息\r\n * @event {Function} snapshot 开始拍照\r\n * @event {Function} change 拍摄完成，返回当前拍摄的base64\r\n */\r\nexport default {\r\n\tprops: {\r\n\t\twatermark: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tdebug: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\t\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\timages: [],\r\n\t\t\tlivePusherData: null\r\n\t\t}\r\n\t},\r\n\t\r\n\tfilters: {\r\n\t\tfilterStyle(value) {\r\n\t\t\tlet style = {}\r\n\t\t\tswitch(value.type) {\r\n\t\t\t\tcase 'text':\r\n\t\t\t\t\tstyle = {\r\n\t\t\t\t\t\tcolor: value.color,\r\n\t\t\t\t\t\tfontSize: value.size + 'px',\r\n\t\t\t\t\t\tfontWeight: value.isBold ? 'bold' : 'normal',\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'fillRect':\r\n\t\t\t\t\tstyle = {\r\n\t\t\t\t\t\tbackgroundColor: value.color,\r\n\t\t\t\t\t\twidth: value.w + 'px',\r\n\t\t\t\t\t\theight: value.h + 'px',\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'image':\r\n\t\t\t\t\tstyle = {\r\n\t\t\t\t\t\twidth: value.w + 'px',\r\n\t\t\t\t\t\theight: value.h + 'px',\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\treturn style\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\t// #ifdef APP-NVUE\r\n\t\tthis.context = uni.createLivePusherContext(\"livePusher\", this)\r\n\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t// 有时会出现获取到的宽高为0，加了个延时\r\n\t\tsetTimeout(() => {\r\n\t\t\tquery\r\n\t\t\t\t.select(\"#livePusher\")\r\n\t\t\t\t.boundingClientRect((data) => {\r\n\t\t\t\t\tthis.context.startPreview({})\r\n\t\t\t\t\tthis.livePusherData = data\r\n\t\t\t\t\tthis.$emit(\"ready\", data)\r\n\t\t\t\t})\r\n\t\t\t\t.exec();\r\n\t\t}, 300)\r\n\t\t\r\n\t\t/**\r\n\t\t * \t使用webview组件引用html，在html页面中使用console编辑器不会打印\r\n\t\t * \t使用plus.webview的方式，可以打印调试，但是接收不到postMessage\r\n\t\t * \t所以调试时可以使用plus.webview的方式\r\n\t\t */\r\n\t\tif(this.debug) {\r\n\t\t\tthis.wv = plus.webview.create(\"\", \"custom-webview\", {\r\n\t\t\t\ttop: '-200px',\r\n\t\t\t\tleft: 0,\r\n\t\t\t\twidth: '1px',\r\n\t\t\t\theight: '200px',\r\n\t\t\t\tbackground: 'transparent' \r\n\t\t\t}, {})\r\n\t\t\tthis.wv.loadURL(\"/uni_modules/watasi-watermark-camera/hybrid/html/watermark.html\")\r\n\t\t\tplus.webview.currentWebview().append(this.wv)\r\n\t\t}\r\n\t\t// #endif\r\n\t\t\r\n\t\t// #ifndef APP-NVUE\r\n\t\tthrow \"请在nvue中使用\"\r\n\t\t// #endif\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\tonPostMessage(e) {\r\n\t\t\tconst base64 = e.detail.data[0].base64\r\n\t\t\tthis.onChange(base64)\r\n\t\t},\r\n\t\t\r\n\t\tonChange(path) {\r\n\t\t\tthis.images.push(path)\r\n\t\t\tthis.$emit(\"change\", path)\r\n\t\t\tthis.context.startPreview({})\r\n\t\t},\r\n\t\t\r\n\t\t// 拍照\r\n\t\tsnapshot() {\r\n\t\t\tthis.context.snapshot({\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tif(e.errMsg === \"snapshot:ok\") {\r\n\t\t\t\t\t\tthis.$emit(\"snapshot\", null)\r\n\t\t\t\t\t\tthis.context.stopPreview({})\r\n\t\t\t\t\t\tif(this.watermark.length === 0) {\r\n\t\t\t\t\t\t\tthis.onChange(e.message.tempImagePath)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.urlTobase64(e.message.tempImagePath, (base64) => {\r\n\t\t\t\t\t\t\t\tlet param = {\r\n\t\t\t\t\t\t\t\t\tbase64: base64,\r\n\t\t\t\t\t\t\t\t\twatermark: this.watermark,\r\n\t\t\t\t\t\t\t\t\twidth: e.message.width,\r\n\t\t\t\t\t\t\t\t\theight: e.message.height,\r\n\t\t\t\t\t\t\t\t\tmaxWidth: 750,\r\n\t\t\t\t\t\t\t\t\tliveWidth: this.livePusherData.width,\r\n\t\t\t\t\t\t\t\t\tliveHeight: this.livePusherData.height,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(this.debug) {\r\n\t\t\t\t\t\t\t\t\t// 使用plus.webview\r\n\t\t\t\t\t\t\t\t\tthis.wv.evalJS(`setImage(${JSON.stringify(param)})`)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$refs.webview.evalJs(`setImage(${JSON.stringify(param)})`)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '拍照失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 切换前后摄像头\r\n\t\tswitchCamera() {\r\n\t\t\tthis.context.switchCamera({\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tconsole.log(\"livePusher.switchCamera:\" + JSON.stringify(e));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tpreviewImage() {\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: this.images.length - 1,\r\n\t\t\t\turls: this.images\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 临时地址转base64\r\n\t\turlTobase64(url, callback) {\r\n\t\t\tplus.io.resolveLocalFileSystemURL(url, (entry) => {\r\n\t\t\t\tentry.file((file) => {\r\n\t\t\t\t\tlet fileReader = new plus.io.FileReader();\r\n\t\t\t\t\tfileReader.onloadend = (e) => {\r\n\t\t\t\t\t\tcallback && callback(e.target.result)\r\n\t\t\t\t\t};\r\n\t\t\t\t\tfileReader.readAsDataURL(file);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.watasi-watermark-camera {\r\n\tflex: 1;\r\n\tposition: relative;\r\n\tbackground-color: #000;\r\n\t.live-pusher {\r\n\t\tflex: 1;\r\n\t}\r\n\t.toolbar {\r\n\t\tflex-direction: row;\r\n\t\twidth: 750rpx;\r\n\t\theight: 200rpx;\r\n\t\tbackground-color: #111;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding: 0 68rpx;\r\n\t\t.left {\r\n\t\t\twidth: 80rpx;\r\n\t\t\t.image {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.snapshot {\r\n\t\t\twidth: 110rpx;\r\n\t\t\theight: 110rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: 2px solid #fff;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\t.circle {\r\n\t\t\t\twidth: 85rpx;\r\n\t\t\t\theight: 85rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.switch {\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground-color: rgba(255, 255, 255, 0.15);\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\t.icon {\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./watasi-watermark-camera.nvue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./watasi-watermark-camera.nvue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1726111070889\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}